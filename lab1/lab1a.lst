lab1a.lst - generated by MGTEK Assembler ASM12 V1.17 Build 107 for Linux (x86) - Mon Jun  3 17:20:29 2013

    1:                                 #include "../HC12TOOLS.INC"
../HC12TOOLS.INC:1: Note A5001: col(6) "HC12TOOLS.INC REVISION 03/27/2013"
    1:                                 #MSG "HC12TOOLS.INC REVISION 03/27/2013"
../HC12TOOLS.INC:2: Note A5001: col(6) "COPYRIGHT 2013 WILLIAM STAPLETON"
    2:                                 #MSG "COPYRIGHT 2013 WILLIAM STAPLETON"
../HC12TOOLS.INC:3: Note A5001: col(6) "THIS FILE MAY BE FREELY DISTRIBUTED AS LONG AS IT REMAINS UNCHANGED AND FULLY CREDITED."
    3:                                 #MSG "THIS FILE MAY BE FREELY DISTRIBUTED AS LONG AS IT REMAINS UNCHANGED AND FULLY CREDITED."
../HC12TOOLS.INC:4: Note A5001: col(6) "THIS LIBRARY IS INTENDED FOR USE WITH THE ASM12 ASSEMBLER PROVIDED AS PART OF"
    4:                                 #MSG "THIS LIBRARY IS INTENDED FOR USE WITH THE ASM12 ASSEMBLER PROVIDED AS PART OF"
../HC12TOOLS.INC:5: Note A5001: col(6) "THE MINIIDE PROGRAM AVAILABLE FROM HTTP://WWW.MGTEK.COM/MINIIDE"
    5:                                 #MSG "THE MINIIDE PROGRAM AVAILABLE FROM HTTP://WWW.MGTEK.COM/MINIIDE"
../HC12TOOLS.INC:6: Note A5001: col(6) "CONDITIONAL ASSEMBLY AND MACROS MAY NOT FUNCTION IN THE CORRECT MANNER WITH OTHER ASSEMBLERS."
    6:                                 #MSG "CONDITIONAL ASSEMBLY AND MACROS MAY NOT FUNCTION IN THE CORRECT MANNER WITH OTHER ASSEMBLERS."
    7:                                 
    8:                                 #INCLUDE CONSTANTS.INC                  ;USEFUL GLOBAL CONSTANTS
    1:                                 #IFNDEF CONSTANTS_INC
    2:          =00000001              CONSTANTS_INC   EQU 1
../CONSTANTS.INC:3: Note A5001: col(6) "CONSTANTS.INC REVISION 08/20/2010"
    3:                                 #MSG "CONSTANTS.INC REVISION 08/20/2010"
../CONSTANTS.INC:4: Note A5001: col(6) "COPYRIGHT 2010 WILLIAM STAPLETON"
    4:                                 #MSG "COPYRIGHT 2010 WILLIAM STAPLETON"
../CONSTANTS.INC:5: Note A5001: col(6) "THIS FILE MAY BE FREELY DISTRIBUTED AS LONG AS IT REMAINS UNCHANGED AND FULLY CREDITED."
    5:                                 #MSG "THIS FILE MAY BE FREELY DISTRIBUTED AS LONG AS IT REMAINS UNCHANGED AND FULLY CREDITED."
    6:                                 
    7:                                 ;COMMENT OUT THE FOLLOWING LINE TO INCLUDE THE FULL FILE IN THE LISTING
   62:                                 
   63:                                 #ENDIF  
    9:                                 #INCLUDE SYSTEM_SELECT.INC              ;BOARD-SPECIFIC OPTIONS
    1:                                 #IFNDEF SYSTEM_SELECT
    2:          =00000001              SYSTEM_SELECT EQU 1
../SYSTEM_SELECT.INC:3: Note A5001: col(6) "SYSTEM_SELECT.INC REVISION 01/27/2012"
    3:                                 #MSG "SYSTEM_SELECT.INC REVISION 01/27/2012"
../SYSTEM_SELECT.INC:4: Note A5001: col(6) "COPYRIGHT 2012 WILLIAM STAPLETON"
    4:                                 #MSG "COPYRIGHT 2012 WILLIAM STAPLETON"
../SYSTEM_SELECT.INC:5: Note A5001: col(6) "THIS FILE MAY BE FREELY DISTRIBUTED AS LONG AS IT REMAINS UNCHANGED AND FULLY CREDITED."
    5:                                 #MSG "THIS FILE MAY BE FREELY DISTRIBUTED AS LONG AS IT REMAINS UNCHANGED AND FULLY CREDITED."
    6:                                 
    7:                                 #INCLUDE CONSTANTS.INC
    1:                                 #IFNDEF CONSTANTS_INC
   63:                                 #ENDIF  
    8:                                 
    9:                                 ;COMMENT OUT THE FOLLOWING LINE TO INCLUDE THE FULL FILE IN THE LISTING
  512:                                 
  513:                                 #ENDIF ;SYSTEM_SELECT
   10:                                 #INCLUDE MC9S12_REGISTERS.INC           ;DEFINITIONS OF ALL SYSTEM MEMORY LOCATIONS AND CONSTANTS
    1:                                 #IFNDEF MC9S12REGS
    2:          =00000001              MC9S12REGS      EQU 1
../MC9S12_REGISTERS.INC:3: Note A5001: col(6) "MC9S12_REGISTERS.INC REVISION 08/06/2010"
    3:                                 #MSG "MC9S12_REGISTERS.INC REVISION 08/06/2010"
../MC9S12_REGISTERS.INC:4: Note A5001: col(6) "COPYRIGHT 2010 WILLIAM STAPLETON"
    4:                                 #MSG "COPYRIGHT 2010 WILLIAM STAPLETON"
../MC9S12_REGISTERS.INC:5: Note A5001: col(6) "THIS FILE MAY BE FREELY DISTRIBUTED AS LONG AS IT REMAINS UNCHANGED AND FULLY CREDITED."
    5:                                 #MSG "THIS FILE MAY BE FREELY DISTRIBUTED AS LONG AS IT REMAINS UNCHANGED AND FULLY CREDITED."
    6:                                 
    7:                                 #INCLUDE SYSTEM_SELECT.INC
    1:                                 #IFNDEF SYSTEM_SELECT
  513:                                 #ENDIF ;SYSTEM_SELECT
    8:                                 #INCLUDE CONSTANTS.INC
    1:                                 #IFNDEF CONSTANTS_INC
   63:                                 #ENDIF  
    9:                                 
   10:                                 ;COMMENT OUT THE FOLLOWING LINE TO INCLUDE THE FULL FILE IN THE LISTING
 1489:                                 
 1490:                                 ;* end registers
 1491:                                 #ENDIF  ;MC9S12REGS
   11:                                 #INCLUDE ASCII.INC                      ;DEFINITIONS OF ALL ASCII CONTROL CODES
    1:                                 #IFNDEF ASCII_INC       ;using definition to prevent duplication of equates
    2:          =00000001              ASCII_INC EQU 1
../ASCII.INC:3: Note A5001: col(6) "ASCII.INC REVISION 01/15/2013"
    3:                                 #MSG "ASCII.INC REVISION 01/15/2013"
../ASCII.INC:4: Note A5001: col(6) "COPYRIGHT 2013 WILLIAM STAPLETON"
    4:                                 #MSG "COPYRIGHT 2013 WILLIAM STAPLETON"
../ASCII.INC:5: Note A5001: col(6) "THIS FILE MAY BE FREELY DISTRIBUTED AS LONG AS IT REMAINS UNCHANGED AND FULLY CREDITED."
    5:                                 #MSG "THIS FILE MAY BE FREELY DISTRIBUTED AS LONG AS IT REMAINS UNCHANGED AND FULLY CREDITED."
    6:                                 
    7:                                 ;COMMENT OUT THE FOLLOWING LINE TO INCLUDE THE FULL FILE IN THE LISTING
  204:                                 
  205:                                 #ENDIF          ;#IFNDEF ASCII_INC
   12:                                 #INCLUDE MUSIC_NOTES.INC
    1:                                 #IFNDEF MUSIC_NOTES_INC
    2:          =00000001              MUSIC_NOTES_INC EQU 1
../MUSIC_NOTES.INC:3: Note A5001: col(6) "MUSIC_NOTES.INC REVISION 08/06/2010"
    3:                                 #MSG "MUSIC_NOTES.INC REVISION 08/06/2010"
../MUSIC_NOTES.INC:4: Note A5001: col(6) "COPYRIGHT 2010 WILLIAM STAPLETON"
    4:                                 #MSG "COPYRIGHT 2010 WILLIAM STAPLETON"
../MUSIC_NOTES.INC:5: Note A5001: col(6) "THIS FILE MAY BE FREELY DISTRIBUTED AS LONG AS IT REMAINS UNCHANGED AND FULLY CREDITED."
    5:                                 #MSG "THIS FILE MAY BE FREELY DISTRIBUTED AS LONG AS IT REMAINS UNCHANGED AND FULLY CREDITED."
    6:                                 
    7:                                 ;COMMENT OUT THE FOLLOWING LINE TO INCLUDE THE FULL FILE IN THE LISTING
  265:                                 
  266:                                 #ENDIF  ;;;#IFNDEF MUSIC_NOTES_INC
  267:                                 
   13:                                 #INCLUDE VT100.INC
    1:                                 #IFNDEF VT100_INC
    2:          =00000001              VT100_INC       EQU 1
../VT100.INC:3: Note A5001: col(6) "VT100.INC REVISION 09/15/2010"
    3:                                 #MSG "VT100.INC REVISION 09/15/2010"
../VT100.INC:4: Note A5001: col(6) "COPYRIGHT 2010 WILLIAM STAPLETON"
    4:                                 #MSG "COPYRIGHT 2010 WILLIAM STAPLETON"
../VT100.INC:5: Note A5001: col(6) "THIS FILE MAY BE FREELY DISTRIBUTED AS LONG AS IT REMAINS UNCHANGED AND FULLY CREDITED."
    5:                                 #MSG "THIS FILE MAY BE FREELY DISTRIBUTED AS LONG AS IT REMAINS UNCHANGED AND FULLY CREDITED."
    6:                                 
    7:                                 #INCLUDE ASCII.INC
    1:                                 #IFNDEF ASCII_INC       ;using definition to prevent duplication of equates
  205:                                 #ENDIF          ;#IFNDEF ASCII_INC
    8:                                 
    9:                                 ;COMMENT OUT THE FOLLOWING LINE TO INCLUDE THE FULL FILE IN THE LISTING
   10:                                 ;       NOLIST
   11:                                 
   12:                                 VT100_MAKE_VARIABLES MACRO
   13:                                 #IFNDEF VT100_VARS
   14:                                 VT100_VARS EQU 1
   15:                                         JMP NEXT\@
   16:                                 #ENDIF
   17:                                 #IFNDEF VT100_PREFIX
   18:                                 VT100_PREFIX    DC.B ESC,'[',NULL
   19:                                 #ENDIF
   20:                                 #IFNDEF VT100_ATTRIBUTE_STRING
   21:                                 VT100_ATTRIBUTE_STRING DC.B '00000',NULL
   22:                                 #ENDIF
   23:                                 NEXT\@:
   24:                                         ENDM
   25:                                 
   26:                                 VT100_CLEAR_SCREEN MACRO
   27:                                         VT100_MAKE_VARIABLES
   28:                                         PUTS #VT100_PREFIX      
   29:                                         ITOA #2,#VT100_ATTRIBUTE_STRING
   30:                                         PUTS #VT100_ATTRIBUTE_STRING
   31:                                         PUTC #'J'
   32:                                         ENDM
   33:                                 
   34:                                 VT100_HOME MACRO        
   35:                                         VT100_MAKE_VARIABLES
   36:                                         PUTS #VT100_PREFIX      
   37:                                         PUTC #'H'
   38:                                         ENDM
   39:                                 
   40:                                 VT100_CURSOR MACRO ;ROW.COLUMN
   41:                                 #IF \# >=2
   42:                                         VT100_MAKE_VARIABLES
   43:                                         PUTS #VT100_PREFIX      
   44:                                         ITOA \1,#VT100_ATTRIBUTE_STRING
   45:                                         PUTS #VT100_ATTRIBUTE_STRING
   46:                                         PUTC #$3B
   47:                                         ITOA \2,#VT100_ATTRIBUTE_STRING
   48:                                         PUTS #VT100_ATTRIBUTE_STRING
   49:                                         PUTC #'H'
   50:                                 #ENDIF
   51:                                 #IF \# != 2
   52:                                 #MSG "MACRO VT100_CURSOR REQUIRES EXACTLY 2 PARAMETERS WHICH RESOLVE INTO NUMBERS FOR CURSOR ROW AND COLUMN"
   53:                                 #MSG "BOTH ROW AND COLUMN NUMBER BEGIN WITH 1 FOR THE TOP-LEFT CORNER"
   54:                                 #ENDIF
   55:                                         ENDM
   56:                                 
   57:                                 VT100_SAVE_CURSOR MACRO
   58:                                         VT100_MAKE_VARIABLES
   59:                                         PUTS #VT100_PREFIX      
   60:                                         PUTC #'s'
   61:                                         ENDM
   62:                                 
   63:                                 VT100_RESTORE_CURSOR MACRO
   64:                                         VT100_MAKE_VARIABLES
   65:                                         PUTS #VT100_PREFIX      
   66:                                         PUTC #'u'
   67:                                         ENDM
   68:                                 
   69:                                 VT100_UP MACRO ;COUNT
   70:                                         VT100_MAKE_VARIABLES
   71:                                         PUTS #VT100_PREFIX
   72:                                 #IF \# >= 1     
   73:                                         ITOA \1,#VT100_ATTRIBUTE_STRING
   74:                                         PUTS #VT100_ATTRIBUTE_STRING
   75:                                 #ENDIF
   76:                                         PUTC #'A'
   77:                                 #IF \# >= 2
   78:                                 #MSG "MACRO VT100_UP REQUIRES AT MOST 1 PARAMETER WHICH RESOLVE INTO THE NUMBERS OF ROWS TO MOVE"
   79:                                 #MSG "IF NO PARAMETER IS SPECIFIED, THE DEFAULT IS USED (TYPICALLY 1 ROW)"
   80:                                 #ENDIF
   81:                                         ENDM
   82:                                 
   83:                                 VT100_DOWN MACRO ;COUNT
   84:                                         VT100_MAKE_VARIABLES
   85:                                         PUTS #VT100_PREFIX
   86:                                 #IF \# >= 1     
   87:                                         ITOA \1,#VT100_ATTRIBUTE_STRING
   88:                                         PUTS #VT100_ATTRIBUTE_STRING
   89:                                 #ENDIF
   90:                                         PUTC #'B'
   91:                                 #IF \# >= 2
   92:                                 #MSG "MACRO VT100_DOWN REQUIRES AT MOST 1 PARAMETER WHICH RESOLVE INTO THE NUMBERS OF ROWS TO MOVE"
   93:                                 #MSG "IF NO PARAMETER IS SPECIFIED, THE DEFAULT IS USED (TYPICALLY 1 ROW)"
   94:                                 #ENDIF
   95:                                         ENDM
   96:                                 
   97:                                 VT100_RIGHT MACRO ;COUNT
   98:                                         VT100_MAKE_VARIABLES
   99:                                         PUTS #VT100_PREFIX
  100:                                 #IF \# >= 1     
  101:                                         ITOA \1,#VT100_ATTRIBUTE_STRING
  102:                                         PUTS #VT100_ATTRIBUTE_STRING
  103:                                 #ENDIF
  104:                                         PUTC #'C'
  105:                                 #IF \# >= 2
  106:                                 #MSG "MACRO VT100_RIGHT REQUIRES AT MOST 1 PARAMETER WHICH RESOLVES INTO THE NUMBERS OF COLUMNS TO MOVE"
  107:                                 #MSG "IF NO PARAMETER IS SPECIFIED, THE DEFAULT IS USED (TYPICALLY 1 COLUMN)"
  108:                                 #ENDIF
  109:                                         ENDM
  110:                                 
  111:                                 VT100_LEFT MACRO ;COUNT
  112:                                         VT100_MAKE_VARIABLES
  113:                                         PUTS #VT100_PREFIX
  114:                                 #IF \# >= 1     
  115:                                         ITOA \1,#VT100_ATTRIBUTE_STRING
  116:                                         PUTS #VT100_ATTRIBUTE_STRING
  117:                                 #ENDIF
  118:                                         PUTC #'D'
  119:                                 #IF \# >= 2
  120:                                 #MSG "MACRO VT100_LEFT REQUIRES AT MOST 1 PARAMETER WHICH RESOLVES INTO THE NUMBERS OF COLUMNS TO MOVE"
  121:                                 #MSG "IF NO PARAMETER IS SPECIFIED, THE DEFAULT IS USED (TYPICALLY 1 COLUMN)"
  122:                                 #ENDIF
  123:                                         ENDM
  124:                                 
  125:          =00000000              VT100_DEFAULT   EQU 0
  126:          =00000001              VT100_BRIGHT    EQU 1
  127:          =00000002              VT100_DIM               EQU 2
  128:          =00000004              VT100_UNDERLINE EQU 4
  129:          =00000005              VT100_BLINK     EQU 5
  130:          =00000007              VT100_INVERT    EQU 7
  131:          =00000008              VT100_HIDDEN    EQU 8
  132:          =0000001E              VT100_FOREGROUND_PREFIX EQU 30
  133:          =00000028              VT100_BACKGROUND_PREFIX EQU 40
  134:          =00000000              VT100_BLACK     EQU 0
  135:          =00000001              VT100_RED               EQU 1
  136:          =00000002              VT100_GREEN     EQU 2
  137:          =00000003              VT100_YELLOW    EQU 3           ;YELLOW=RED+GREEN               
  138:          =00000004              VT100_BLUE              EQU 4
  139:          =00000005              VT100_MAGENTA   EQU 5           ;MAGENTA=BLUE+RED       
  140:          =00000006              VT100_CYAN              EQU 6           ;CYAN=BLUE+GREEN                
  141:          =00000007              VT100_WHITE     EQU 7           ;WHITE=BLUE+GREEN+RED   
  142:                                 
  143:                                 
  144:                                 VT100_TEXT_ATTRIBUTE MACRO ;PARAMETERS
  145:                                         VT100_MAKE_VARIABLES
  146:                                         PUTS #VT100_PREFIX
  147:                                 #IF \# = 0
  148:                                         ITOA #VT100_DEFAULT,#VT100_ATTRIBUTE_STRING
  149:                                         PUTS #VT100_ATTRIBUTE_STRING
  150:                                 #ENDIF
  151:                                 #IF \# >=1      
  152:                                         ITOA \1,#VT100_ATTRIBUTE_STRING
  153:                                         PUTS #VT100_ATTRIBUTE_STRING
  154:                                 #ENDIF
  155:                                 #IF \# >=2
  156:                                         PUTC #$3B       
  157:                                         ITOA \2,#VT100_ATTRIBUTE_STRING
  158:                                         PUTS #VT100_ATTRIBUTE_STRING
  159:                                 #ENDIF
  160:                                 #IF \# >=3
  161:                                         PUTC #$3B       
  162:                                         ITOA \3,#VT100_ATTRIBUTE_STRING
  163:                                         PUTS #VT100_ATTRIBUTE_STRING
  164:                                 #ENDIF
  165:                                 #IF \# >=4
  166:                                         PUTC #$3B       
  167:                                         ITOA \4,#VT100_ATTRIBUTE_STRING
  168:                                         PUTS #VT100_ATTRIBUTE_STRING
  169:                                 #ENDIF
  170:                                 #IF \# >=5
  171:                                         PUTC #$3B       
  172:                                         ITOA \5,#VT100_ATTRIBUTE_STRING
  173:                                         PUTS #VT100_ATTRIBUTE_STRING
  174:                                 #ENDIF
  175:                                 #IF \# >=6
  176:                                         PUTC #$3B       
  177:                                         ITOA \6,#VT100_ATTRIBUTE_STRING
  178:                                         PUTS #VT100_ATTRIBUTE_STRING
  179:                                 #ENDIF
  180:                                 #IF \# >=7
  181:                                         PUTC #$3B       
  182:                                         ITOA \7,#VT100_ATTRIBUTE_STRING
  183:                                         PUTS #VT100_ATTRIBUTE_STRING
  184:                                 #ENDIF
  185:                                         PUTC #'m'
  186:                                 #IF \# =0 | \# > 7
  187:                                 #MSG "MACRO VT100_TEXT_ATTRIBUTE REQUIRES UP TO 7 PARAMETERS WHICH RESOLVE INTO VT100 TEXT ATTRIBUTES"
  188:                                 #MSG "EXAMPLE ATTRIBUTES ARE VT100_BRIGHT, VT100_UNDERLINE, AND VT100_BLINK"
  189:                                 #MSG "EXAMPLE TO SET BACKGROUND COLOR USE: VT100_TEXT_ATTRIBUTE #(VT100_BACKGROUND_PREFIX+VT100_RED)"
  190:                                 #MSG "EXAMPLE TO SET FOREGROUND COLOR USE: VT100_TEXT_ATTRIBUTE #(VT100_FOREGROUND_PREFIX+VT100_GREEN)"
  191:                                 #MSG "VT100_DEFAULT REMOVES ALL OTHER ATTRIBUTES, INCLUDING TEXT COLOR"
  192:                                 #MSG "MORE THAN 7 PARAMETERS AT A TIME IS DISALLOWED"
  193:                                 #MSG "PROVIDING 0 PARAMETERS IS EQUIVALENT TO SETTING VT100_DEFAULT"
  194:                                 #ENDIF
  195:                                         ENDM
  196:                                 
  197:                                 
  198:                                 
  199:                                 
  200:                                 
  201:                                 
  202:                                 
  203:                                 ;THE FOLLOWING LINE RESTORES LISTING FOR CODE OUTSIDE OF THIS LIBRARY
  205:                                 
  206:                                 #ENDIF  
   14:                                 
   15:                                 ;COMMENT OUT THE FOLLOWING LINE TO INCLUDE THE FULL FILE IN THE LISTING
    2:          =00001000                      ORG $1000
    3:     1000 0000                   VAR1 DC.W 0             ;DEFINES ONE WORD INITIALIZED TO 0
    4:     1002 000A                   VAR2 DC.W 10            ;DEFINES ONE WORD INITIALIZED TO 10
    5:     1004 +0002                  VAR3 DS.W 1             ;DEFINES ONE WORD UNINITIALIZED
    6:     1006 +0064                  ARRAY DS.B 100          ;DEFINES 100 BYTES UNINITIALIZED
    7:                                 
    8:          =00002000                      ORG $2000
    9:     2000                        MAIN:   ;THIS WILL BE THE FIRST LINE OF CODE EXECUTED
   10:     2000 CE 0000                        LDX #0          ;INDEX X = 0
   11:     2003 86 01                          LDAA #1         ;ACCUMULATOR A = 1
   12:     2005 FD 1002                        LDY VAR2                ;INDEX Y = VALUE FROM MEMORY LOCATION VAR2
   13:     2008                        LOOP1:
   14:     2008 6A E2 1006                     STAA ARRAY,X    ;STORE VALUE IN ACCUMULATOR A TO MEMORY ;LOCATION WHOSE ADDRESS IS 
   15:                                 ;VALUE OF “ARRAY” PLUS VALUE IN X
   16:     200C 08                             INX                     ;INCREMENT INDEX X      
   17:     200D 8B 03                          ADDA #3         ;ADD 3 TO THE CONTENTS OF ACCUMULATOR A
   18:     200F 04 36 F6                       DBNE Y,LOOP1            ;DECREMENT Y AND BRANCH TO LOOP1 IF RESULT 
   19:                                         ;IS NOT EQUAL TO ZERO
   20:     2012 1803 ABCD 1004                 MOVW #$ABCD,VAR3 ;PLACE HEXADECIMAL VALUE ABCD IN MEMORY
   21:                                 ;AT LOCATION VAR3
   22:     2018 3D                             RTS                     ;END OF “MAIN” FUNCTION
